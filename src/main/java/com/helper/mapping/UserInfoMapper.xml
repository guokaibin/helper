<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.helper.dao.UserInfoMapper" >
    
<insert id="addUserInfo" parameterType="com.helper.model.UserInfo" useGeneratedKeys="true" keyProperty="userInfoId" >
    <selectKey resultType="Integer" keyProperty="userInfoId" order="AFTER">  
        SELECT LAST_INSERT_ID()   
    </selectKey>  
    insert into t_userinfo(userId,realName,gender,birthday,age,hometown,school,company,career,workingDirection,QQ,prov,city,district,createUser,createTime,specialty,level) 
    			 values(#{userId},#{realName},#{gender},#{birthday},#{age},#{hometown},#{school},#{company},#{career},#{workingDirection},#{QQ},#{prov},#{city},#{district},#{createUser},#{createTime},#{specialty},#{level})
</insert>

<select id="getUserInfo" parameterType="int"  resultType="com.helper.model.UserInfo">
    select * from t_userinfo where userId = #{userid} LIMIT 1
</select>

<update id="updateUserInfo" parameterType="com.helper.model.UserInfo" >
    update t_userinfo set realName = #{realName} , gender = #{gender}, birthday = #{birthday}, age = #{age}, hometown = #{hometown}, school =#{school}, company = #{company},
    					  career = #{career}, workingDirection = #{workingDirection}, QQ = #{QQ}, prov = #{prov}, city = #{city} , district = #{district}, updateUser = #{updateUser},
    					  specialty = #{specialty}, level = #{level}  where userId = #{userId}
</update>

</mapper>